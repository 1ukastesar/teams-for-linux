<html>

<head>
    <meta charset="UTF-8">
    <title>Authentication Required</title>
</head>

<body>
    <h1>Authentication Required</h1>
    <h2>
        <strong id="requestor"></strong> requires a username and password
    </h2>
    <form>
        <div class="form-group">
            <label>Password:</label>
            <input type="password" name="password">
        </div>
        <div class="submit-group">
            <button type="button" data-action="cancel">Cancel</button>
            <button type="button" data-action="login" class="primary">Log In</button>
        </div>
    </form>
    <script type="text/javascript">
        const querystring = require('querystring')
        const query = querystring.parse(window.location.search.substr(1))
        if (query.port === 443) {
            document.getElementById('requestor').textContent = `https://${query.realm}`
        } else if (query.port === 80) {
            document.getElementById('requestor').textContent = `http://${query.realm}`
        } else {
            document.getElementById('requestor').textContent = query.realm
        }
        document.querySelector('[data-action="cancel"]').addEventListener('click', (evt) => {
            evt.preventDefault()
            document.title = 'wbaction:cancel'
        }, false)
        document.querySelector('[data-action="login"]').addEventListener('click', (evt) => {
            evt.preventDefault()
            document.title = 'wbaction:login'
        }, false)
    </script>
</body>

</html>